/* src/app/sidebar/sidebar.component.css */

.sidebar {
  width: 240px; /* Default width when expanded */
  min-width: 60px; /* To prevent it from becoming too small during collapse */
  flex-shrink: 0; /* Ensures sidebar doesn't shrink when main content is too large */
  position: relative; /* CRUCIAL: For absolute positioning of the toggle button */
  box-sizing: border-box; /* Ensures padding is included in width */
  /* Height is implicitly handled by its flex parent (.main-container) */
  /* transition is already on the div in html */
}

/* Collapsed state */
.sidebar.collapsed {
  width: 80px; /* Fixed width when collapsed */
  padding-right: 5px; /* Adjust padding for collapsed state if needed */
}

.sidebar.collapsed a{
  justify-content: center; /* Center the icon when collapsed */
  padding: 0.75rem; /* Adjust padding for better alignment */
}

/* Text (span) visibility/width and opacity transition */
/* When sidebar is collapsed */
.sidebar.collapsed span {
  width: 0; /* Text collapses to 0 width */
  overflow: hidden; /* Hides overflowed text */
  opacity: 0; /* Fades out text */
  /* Transition for collapsing: Fade out quickly, width collapse smoothly */
  transition: opacity 0.1s ease, width 0.3s ease;
}

/* When sidebar is NOT collapsed (expanded) */
.sidebar:not(.collapsed) span {
  width: auto; /* Text expands to its natural width */
  overflow: visible; /* Text is visible */
  opacity: 1; /* Fades in text */
  /* Transition for expanding: Width expands first, then text fades in with a delay */
  transition: width 0.3s ease 0s, opacity 0.3s ease 0.2s; /* Delay opacity transition */
}

/* Icons margin when collapsed for centering */
.sidebar.collapsed .sidebar-link lucide-icon,
.sidebar.collapsed .logout-container lucide-icon {
  /* Override gap-3 from HTML to center icon */
  margin-right: 0 !important;
}

/* Base style for all active sidebar links */
.active-sidebar-link {
  font-weight: 600; /* Make active link text bold */
  color: var(--color-white); /* White text for active links */
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Subtle shadow for visual depth */
  /* Remove default hover for active links if you want specific active-hover states */
  /* Or define specific active-hover states below */
}

/* Specific active background colors based on role */

/* Active Donor Link */
.active-sidebar-link-donor {
  background-color: var(--color-donor-accent-500); /* Main Donor accent color */
}

/* Hover state for active Donor link */
.active-sidebar-link-donor:hover {
  background-color: var(--color-donor-accent-600); /* Slightly darker for hover */
}

/* Active NGO Link */
.active-sidebar-link-ngo {
  background-color: var(--color-green-600); /* Main NGO accent color */
}

/* Hover state for active NGO link */
.active-sidebar-link-ngo:hover {
  background-color: var(--color-green-700); /* Slightly darker for hover */
}

/* Active Default/Admin/OAuth Link (falls back to green theme) */
.active-sidebar-link-default {
  background-color: var(--color-green-500); /* Mid-range green for active default */
}

/* Hover state for active Default link */
.active-sidebar-link-default:hover {
  background-color: var(--color-green-600); /* Slightly darker for hover */
}

/* Toggle Button Styling and Position Fix */
.toggle-btn {
  position: absolute; /* Absolute positioning relative to the .sidebar parent */
  top: 50%; /* Center vertically */
  transform: translateY(-50%); /* Precisely center vertically based on its own height */
  right: -24px; /* Position to the right, slightly outside the sidebar */

  /* Fixed size for the button */
  width: 24px;
  height: 60px; /* Taller for easier click */

  /* Visual styles */
  border: none;
  background-color: theme('colors.green.700');
  color: theme('colors.white');
  cursor: pointer;
  z-index: 10; /* Ensure it stays above other content */
  font-size: 16px;
  transition: right 0.3s ease, background-color 0.3s ease; /* Smooth transition for position and color */
  border-radius: 0 5px 5px 0; /* Rounded on the right side only */
}

/* Adjust toggle button position when sidebar is expanded */
/* When sidebar is not collapsed, the button should be inside or at its edge */
.sidebar:not(.collapsed) .toggle-btn {
  right: 0; /* Position at the right edge of the expanded sidebar */
  border-radius: 5px 0 0 5px; /* Rounded on the left side only */
}

/* General Link/Button appearance inside sidebar (if not fully covered by Tailwind) */
.sidebar-link,
.logout-container button {
  white-space: nowrap; /* Prevent text wrapping when collapsed */
}